//@format
import test from "ava";
import { onLine } from "../../../src/strategies/soundxyz-metadata/transformer.mjs";

const payload =
  "0x00000000000000000000000092526b99715afeed324fb56ecafcac8056379300000000000000000000000000000000000000000000000000016345785d8a00000000000000000000000000000000000000000000000000000000000000000019000000000000000000000000000000000000000000000000000000000000001900000000000000000000000000000000000000000000000000000000000003e800000000000000000000000000000000000000000000000000000000622536ac00000000000000000000000000000000000000000000000000000000ffffffff0000000000000000000000000000000000000000000000000000000000000019000000000000000000000000a66cdda1817c85ed3d232a5affd17673e933d8a7";

test("soundxyz transformer", (t) => {
  const { write } = onLine(payload);
  t.is(
    write,
    `{"fundingRecipient":"0x92526B99715AFeEd324Fb56EcAFcac8056379300","price":"100000000000000000","numSold":"25","quantity":"25","royaltyBPS":"1000","startTime":"1646605996","endTime":"4294967295","presaleQuantity":"25","signerAddress":"0xA66CDDA1817C85eD3D232a5Affd17673E933D8a7"}`
  );
});
